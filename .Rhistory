group_by(month) %>%
summarise(count=sum(count,na.rm=FALSE)) %>%
ggplot(.,aes(x=month,y=count))+geom_bar(stat="identity")+ggtitle("Number of Bike Rentals per Month")
bikes <- bikes %>%
mutate(month = as.integer(format(as.Date(bikes$date,format="%m/%d/%Y"),"%m")))
bikes %>%
group_by(month) %>%
summarise(count=sum(count,na.rm=FALSE)) %>%
ggplot(.,aes(x=month,y=count))+geom_bar(stat="identity")+ggtitle("Number of Bike Rentals per Month")+scale_x_discrete(breaks=c("1","2","3","4","5","6","7","8","9","10","11","12"))
bikes <- bikes %>%
mutate(month = as.integer(format(as.Date(bikes$date,format="%m/%d/%Y"),"%m")))
bikes %>%
group_by(month) %>%
summarise(count=sum(count,na.rm=FALSE)) %>%
ggplot(.,aes(x=month,y=count))+geom_bar(stat="identity")+ggtitle("Number of Bike Rentals per Month")+scale_x_discrete(limits=c("1","2","3","4","5","6","7","8","9","10","11","12"),
labels=c("Jan", "Feb", "Mar", "Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"))+labs(y="Number of Bike Rentals")
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")+scale_x_discrete(limits=c("1","2","3","4"),
labels=c("Clear", "Overcast", "Light Rain/Snow", "Heavy Rain/Snow"))
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")+scale_x_discrete(breaks=c("1","2","3","4"),
labels=c("Clear", "Overcast", "Light Rain/Snow", "Heavy Rain/Snow"))
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")+scale_x_discrete(limits=c("-0.1","0","0.1","0.2"),
labels=c("Clear", "Overcast", "Light Rain/Snow", "Heavy Rain/Snow"))
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")
bikes <- read.csv('bikes.csv')
# qualitative: date, season, holiday, weather
# quantitative: temp, atemp, humidity, windspeed, count
print(bikes$weather)
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")+scale_x_discrete()
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")+scale_x_discrete()
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")+scale_x_discrete(limits=c("1","2","3","4"))
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")
bikes %>%
groupby(weather) %>%
ggplot(.,aes(y=count))+geom_boxplot()+ labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")
bikes %>%
group_by(weather) %>%
ggplot(.,aes(y=count))+geom_boxplot()+ labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")
ggplot(bikes, aes(group=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")
ggplot(bikes, aes(x=weather, y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")
ggplot(bikes, aes(x=as.factor(weather), y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")
ggplot(bikes, aes(x=as.factor(weather), y=count)) +
geom_boxplot() + labs(x="Weather Type",y="Number of Bike Rentals")+ggtitle("Median Bike Rentals & Distribution by Weather Type")+scale_x_discrete(limits=c("1","2","3","4"),labels=c("Clear","Overcast","Light Rain/Snow","Heavy Rain/Snow"))
setwd("C:/Users/wertz/OneDrive - Washington State University (email.wsu.edu)/Historical Outage Analysis/Summer2024-Outage-Analysis")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
library(readr)
svi_reliability=read.csv("outage_records/metrics.csv")
county_fips=read.csv('county_to_fips.csv')
svi_reliability %>%
ggplot(.,aes(x=saidi,y=svi))+geom_point()
svi_reliability<-left_join(svi_reliability,county_fips,by="county")
wind_speed_customers=read.csv("processed_wind_customer_outage.csv")
wind_speed_customers <- wind_speed_customers %>%
mutate(date=as.Date(date,"%m/%d/%Y")) %>%
mutate(year=as.integer(format(as.Date(wind_speed_customers$date,format="%m/%d/%Y"),"%Y")))
county_customers=read.csv('mcc.csv')
county_customers$County_FIPS=as.numeric(county_customers$County_FIPS)
wind_speed_customers <- left_join(wind_speed_customers,county_fips,by="county")
wind_speed_customers <- left_join(wind_speed_customers,county_customers,join_by(fips_code==County_FIPS))
wind_speed_customers %>%
filter(year==2023|year==2022|year==2021|year==2020) %>%
ggplot(.,aes(x=wind_speed_mph,y=percent_customers_out*100))+geom_point()
EIA_disturbances=read.csv("EIA_disturbances_data/all_illinois.csv")
wind_speed_customers_lm=lm(wind_speed_customers$percent_customers_out~wind_speed_mph,wind_speed_customers)
summary(wind_speed_customers_lm)
par(mfrow=c(2,2))
plot(wind_speed_customers_lm)
par(mfrow=c(1,1))
wind_speed_customers %>%
#filter(num_people_out>100) %>%
#filter(year==2023|year==2022|year==2021|year==2020) %>%
group_by(wind_speed_mph) %>%
mutate(avg_pct_out=mean(percent_customers_out)) %>%
ggplot(.,aes(x=wind_speed_mph,y=avg_pct_out*100))+geom_line()+geom_point()
svi_reliability <- svi_reliability %>%
mutate(quartile=case_when(svi <= 0.25 ~ 1,(svi <= 0.5 & svi > 0.25) ~ 2,(svi <= 0.75 & svi > 0.5) ~ 3,(svi <= 1 & svi > 0.75) ~ 4))
svi_reliability %>%
filter(year==2023|year==2022|year==2021|year==2020) %>%
group_by(county) %>%
summarise(avg=mean(saidi)) %>%
top_n(10)
#svi=read.csv("plots_and_metric_data/svi_interactive_map_2022.csv")
#svi_reliability <- left_join(svi_reliability,svi,join_by(fips_code==FIPS))
svi_reliability%>%
group_by(county) %>%
mutate(SAIDI=mean(saidi),SAIFI=mean(saifi),svi=mean(svi))%>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=svi_reliability$county,size=2)
EIA_saidi_saifi=read.csv('data/energy_information_administration_data/2022/Illinois/Reliability_2022_Illinois.csv')
service_territory=read.csv('data/energy_information_administration_data/2022/Illinois/Service_Territory_2022_Illinois.csv')
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..)
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..)
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..)
reliability_by_county<-left_join(service_territory,EIA_saidi_saifi,join_by('X.Utility.Name.'=='X.Utility.Characteristics..Utility.Name.'))
reliability_by_county <- reliability_by_county %>%
filter(!is.na(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..)) %>%
group_by(X.County.) %>%
summarise(SAIDI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..),
SAIFI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..),
CAIDI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..)) %>%
arrange(X.County.)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
library(readr)
svi_reliability=read.csv("outage_records/metrics.csv")
county_fips=read.csv('county_to_fips.csv')
svi_reliability %>%
ggplot(.,aes(x=saidi,y=svi))+geom_point()
svi_reliability<-left_join(svi_reliability,county_fips,by="county")
wind_speed_customers=read.csv("processed_wind_customer_outage.csv")
wind_speed_customers <- wind_speed_customers %>%
mutate(date=as.Date(date,"%m/%d/%Y")) %>%
mutate(year=as.integer(format(as.Date(wind_speed_customers$date,format="%m/%d/%Y"),"%Y")))
county_customers=read.csv('mcc.csv')
county_customers$County_FIPS=as.numeric(county_customers$County_FIPS)
wind_speed_customers <- left_join(wind_speed_customers,county_fips,by="county")
wind_speed_customers <- left_join(wind_speed_customers,county_customers,join_by(fips_code==County_FIPS))
wind_speed_customers %>%
filter(year==2023|year==2022|year==2021|year==2020) %>%
ggplot(.,aes(x=wind_speed_mph,y=percent_customers_out*100))+geom_point()
EIA_disturbances=read.csv("EIA_disturbances_data/all_illinois.csv")
wind_speed_customers_lm=lm(wind_speed_customers$percent_customers_out~wind_speed_mph,wind_speed_customers)
summary(wind_speed_customers_lm)
par(mfrow=c(2,2))
plot(wind_speed_customers_lm)
par(mfrow=c(1,1))
wind_speed_customers %>%
#filter(num_people_out>100) %>%
#filter(year==2023|year==2022|year==2021|year==2020) %>%
group_by(wind_speed_mph) %>%
mutate(avg_pct_out=mean(percent_customers_out)) %>%
ggplot(.,aes(x=wind_speed_mph,y=avg_pct_out*100))+geom_line()+geom_point()
svi_reliability <- svi_reliability %>%
mutate(quartile=case_when(svi <= 0.25 ~ 1,(svi <= 0.5 & svi > 0.25) ~ 2,(svi <= 0.75 & svi > 0.5) ~ 3,(svi <= 1 & svi > 0.75) ~ 4))
svi_reliability %>%
filter(year==2023|year==2022|year==2021|year==2020) %>%
group_by(county) %>%
summarise(avg=mean(saidi)) %>%
top_n(10)
#svi=read.csv("plots_and_metric_data/svi_interactive_map_2022.csv")
#svi_reliability <- left_join(svi_reliability,svi,join_by(fips_code==FIPS))
svi_reliability%>%
group_by(county) %>%
mutate(SAIDI=mean(saidi),SAIFI=mean(saifi),svi=mean(svi))%>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=svi_reliability$county,size=2)
EIA_saidi_saifi=read.csv('data/energy_information_administration_data/2022/Illinois/Reliability_2022_Illinois.csv')
service_territory=read.csv('data/energy_information_administration_data/2022/Illinois/Service_Territory_2022_Illinois.csv')
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..)
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..)
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..)
reliability_by_county<-left_join(service_territory,EIA_saidi_saifi,join_by('X.Utility.Name.'=='X.Utility.Characteristics..Utility.Name.'))
reliability_by_county <- reliability_by_county %>%
filter(!is.na(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..)) %>%
group_by(X.County.) %>%
summarise(SAIDI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..),
SAIFI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..),
CAIDI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..)) %>%
arrange(X.County.)
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
View(residual_cmp)
View(reliability_by_county)
View(EIA_saidi_saifi)
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI,color=svi))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=svi_reliability$county,size=2)
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=residual_cmp$county,size=2)
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=residual_cmp$county,size=3)
View(residual_cmp)
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=residual_cmp$county,size=3,check_overlap=TRUE)
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=residual_cmp$county,size=2,check_overlap=TRUE)
install.packages("ggrepel")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
library(readr)
library(ggrepel)
svi_reliability=read.csv("outage_records/metrics.csv")
county_fips=read.csv('county_to_fips.csv')
svi_reliability %>%
ggplot(.,aes(x=saidi,y=svi))+geom_point()
svi_reliability<-left_join(svi_reliability,county_fips,by="county")
wind_speed_customers=read.csv("processed_wind_customer_outage.csv")
wind_speed_customers <- wind_speed_customers %>%
mutate(date=as.Date(date,"%m/%d/%Y")) %>%
mutate(year=as.integer(format(as.Date(wind_speed_customers$date,format="%m/%d/%Y"),"%Y")))
county_customers=read.csv('mcc.csv')
county_customers$County_FIPS=as.numeric(county_customers$County_FIPS)
wind_speed_customers <- left_join(wind_speed_customers,county_fips,by="county")
wind_speed_customers <- left_join(wind_speed_customers,county_customers,join_by(fips_code==County_FIPS))
wind_speed_customers %>%
filter(year==2023|year==2022|year==2021|year==2020) %>%
ggplot(.,aes(x=wind_speed_mph,y=percent_customers_out*100))+geom_point()
EIA_disturbances=read.csv("EIA_disturbances_data/all_illinois.csv")
wind_speed_customers_lm=lm(wind_speed_customers$percent_customers_out~wind_speed_mph,wind_speed_customers)
summary(wind_speed_customers_lm)
par(mfrow=c(2,2))
plot(wind_speed_customers_lm)
par(mfrow=c(1,1))
wind_speed_customers %>%
#filter(num_people_out>100) %>%
#filter(year==2023|year==2022|year==2021|year==2020) %>%
group_by(wind_speed_mph) %>%
mutate(avg_pct_out=mean(percent_customers_out)) %>%
ggplot(.,aes(x=wind_speed_mph,y=avg_pct_out*100))+geom_line()+geom_point()
svi_reliability <- svi_reliability %>%
mutate(quartile=case_when(svi <= 0.25 ~ 1,(svi <= 0.5 & svi > 0.25) ~ 2,(svi <= 0.75 & svi > 0.5) ~ 3,(svi <= 1 & svi > 0.75) ~ 4))
svi_reliability %>%
filter(year==2023|year==2022|year==2021|year==2020) %>%
group_by(county) %>%
summarise(avg=mean(saidi)) %>%
top_n(10)
#svi=read.csv("plots_and_metric_data/svi_interactive_map_2022.csv")
#svi_reliability <- left_join(svi_reliability,svi,join_by(fips_code==FIPS))
svi_reliability%>%
group_by(county) %>%
mutate(SAIDI=mean(saidi),SAIFI=mean(saifi),svi=mean(svi))%>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=svi_reliability$county,size=2)
EIA_saidi_saifi=read.csv('data/energy_information_administration_data/2022/Illinois/Reliability_2022_Illinois.csv')
service_territory=read.csv('data/energy_information_administration_data/2022/Illinois/Service_Territory_2022_Illinois.csv')
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..)
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..)
EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..<-as.numeric(EIA_saidi_saifi$X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..)
reliability_by_county<-left_join(service_territory,EIA_saidi_saifi,join_by('X.Utility.Name.'=='X.Utility.Characteristics..Utility.Name.'))
reliability_by_county <- reliability_by_county %>%
filter(!is.na(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..)) %>%
group_by(X.County.) %>%
summarise(SAIDI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIDI..minutes.per.year..),
SAIFI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..SAIFI..times.per.year..),
CAIDI=mean(X.IEEE.Standard.All.Events..With.Major.Event.Days..CAIDI..minutes.per.interruption..)) %>%
arrange(X.County.)
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi))+geom_point()+geom_label(label=residual_cmp$county,size=2)+geom_text_repel()
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi,label=county))+geom_point()+geom_text_repel()
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi,label=county))+geom_point()+geom_text_repel(max.overlaps=nrow(.))
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi,label=county))+geom_point()+geom_text_repel(max.overlaps=nrow(residual_cmp))
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=saidi_res,y=saifi_res,color=svi,label=county))+geom_point()+geom_text_repel(max.overlaps=nrow(residual_cmp))
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=saidi_res,y=saifi_res,color=svi,label=county))+geom_point()+geom_text_repel()
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=saidi_res,y=saifi_res,color=svi,label=county))+geom_point()+geom_text_repel()+scale_y_sqrt()
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=saidi_res,y=saifi_res,color=svi,label=county))+geom_point()+geom_text_repel()+scale_y_log10()
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=saidi_res,y=saifi_res,color=svi,label=county))+geom_point()+geom_text_repel()
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=SAIDI,y=SAIFI,color=svi,label=county))+geom_point()+geom_text_repel()
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi)/SAIDI,saifi_res=(SAIFI-saifi)/SAIFI,caidi_res=(CAIDI-caidi)/CAIDI)
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=saidi_res,y=saifi_res,color=svi,label=county))+geom_point()+geom_text_repel()
svi_reliability_2022 <- svi_reliability %>%
filter(year==2022)
residual_cmp<-left_join(svi_reliability_2022,reliability_by_county,join_by(county==X.County.))
residual_cmp <- residual_cmp %>%
mutate(saidi_res=(SAIDI-saidi),saifi_res=(SAIFI-saifi),caidi_res=(CAIDI-caidi))
residual_cmp %>%
ggplot(.,aes(x=saidi,y=SAIDI))+geom_point()+xlab("EAGLE-I SAIDI")+ylab("EIA SAIDI")
residual_cmp %>%
ggplot(.,aes(x=saifi,y=SAIFI))+geom_point()+xlab("EAGLE-I SAIFI")+ylab("EIA SAIFI")
residual_cmp %>%
ggplot(.,aes(x=caidi,y=CAIDI))+geom_point()+xlab("EAGLE-I CAIDI")+ylab("EIA CAIDI")
residual_cmp %>%
ggplot(.,aes(x=saidi_res,y=saifi_res,color=svi,label=county))+geom_point()+geom_text_repel()
View(EIA_disturbances)
EIA_disturbances<-read.csv("EIA_disturbances_data/all_illinois.csv")
EIA_disturbances<-EIA_disturbances %>%
filter(Event.Type == "Severe Weather" | Event.Type == "Severe Weather - Thunderstorms" | Event.Type ==
"- Weather or natural disaster")
View(EIA_disturbances)
library(readr)
wind_events_2023 <- read_csv("illinois_weather_data/wind_events_2023.csv")
View(wind_events_2023)
EIA_disturbances<-read.csv("EIA_disturbances_data/all_illinois.csv")
EIA_disturbances<-EIA_disturbances %>%
filter(Event.Type == "Severe Weather" | Event.Type == "Severe Weather - Thunderstorms" | Event.Type ==
"- Weather or natural disaster")
write.csv(EIA_disturbances, "EIA_disturbances_data/illinois_weather.csv")
View(EIA_disturbances)
